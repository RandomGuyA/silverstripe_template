function find_parent(a,b){var c=b.parent();return $(c).hasClass(a)?$(c):find_parent(a,$(c))}!function(a,b,c){"use strict";var d="ajax_plugin_version_3.0";a.ajax_plugin=function(b,c){var e,f,g,h,i,j,k,l,m,n,o,p,q={ajax_link_class:"ajax-link",ajax_container:"ajax-container",animation_layer:"animation-layer",source_id:"ajax-source",animation_enter:"anim-enter",animation_leave:"anim-leave",plugin_page_class_name:"Unit",birds_nest_class:"birds-nest",initialise_javascript_dependencies:null,load_page_callback:null,page_loaded_callback:null,start_animation_callback:null,end_animation_callback:null,child_list:null,nav_next_frame:null,nav_prev_frame:null,url:null,abs_link:null,root:null,freezable_content:[]},r=this,s=!1,t=!1,u=!1,v=[],w=!1;r.settings={};var x=a(b),b=b,y=x.data(d+"-opts");r.init=function(){r.settings=a.extend({},q,c,y),console.log("initialised plugin "+d),x.css("position","relative"),ka(),i=a("."+r.settings.ajax_container),r.settings.child_list?O():console.log("no child list found"),z()},r.get_current_index=function(){return l};var z=function(){u&&(n=o),o=F(),u&&(o.previous_page=o);var a=u?o:D(o);B(a),v.reverse(),E()},A=function(b){if(!s&&!w){w=!0;var c=b.attr("href");if(!ma(window.location.href,c)){la(c);var d=a("body").scrollTop();d>0?a("body").animate({scrollTop:"0px"},d/2,function(){z()}):z()}}},B=function(a){var b;if(void 0!=a.navigate_to_child?(b=a.navigate_to_child,a.navigate_to_child=void 0):b=ia(a),0==a.nest||void 0==a.nest)a.containerID=i.attr("id"),v.push(pa(a,a.containerID,!0));else if(1==a.nest){var c=C(a),d=c.urlSegment+"-"+c.id;a.containerID=d,v.push(pa(a,d,!0))}void 0!=b&&(1==b.nest?B(b):console.log("ERROR - no child page found"))},C=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].id;d==a.parentID&&(b=k[c])}return b},D=function(a){if(1==a.nest){var b=C(a);return b.navigate_to_child=a,D(b)}return a},E=function(){if(v.length>0){var a=v.length-1;M(v[a]),v.pop()}},F=function(){var a,b=u?j:window.location.href;m=oa(b);for(var c=0;c<k.length;c++){var d=k[c];if(m.path_url==d.url_object.path_url){a=d;break}}return a},G=function(a){for(var b=window.location.href,c="",d=r.settings.root,e=J(b),f=0;f<e.length&&(c+=e[f]+"/",e[f]!=d);f++);return ca(c)+a.hash_url},H=function(a,b){for(var c="",d=r.settings.root,e=a.components,f=!1,g=0;g<e.length;g++)f&&(c+=e[g]+"/"),e[g]==d&&(f=!0);var h=b?"#":"/";return h+ca(c)},I=function(a){for(var b="",c=r.settings.root,d=a.components,e=0;e<d.length&&(b+=d[e]+"/",d[e]!=c);e++);return ca(b)},J=function(a){return a=a.replace("#",""),a.split("/")},K=function(a){for(var b=r.settings.root,c=a.tempURL.split("/"),d=-1,e=c.length-1;e>=0&&(d++,c[e]!=b);e--);return d},L=function(a){for(var b=null,c=0;c<k.length;c++)a==k[c].name&&(b=k[c]);return b},M=function(b){var c=b.page.link,d=b.animate,e=a("#"+b.containerID);u||(d=!1),u=!1,fa(),ja(r.settings.load_page_callback);var f=e.find("."+r.settings.animation_layer);f.removeClass("style"),a.ajax(c).done(function(a){ja(r.settings.page_loaded_callback),ga(e,f,a,d,c,b.page)}).fail(function(a){alert("Error: "+a.responseText)})},N=function(a,b,c){ja(r.settings.start_animation_callback),ea();var d=c.find("."+r.settings.animation_leave),e=c.find("."+r.settings.animation_enter),f=c.find("."+r.settings.animation_layer);if(f.addClass("running"),b){var g=parseInt(a.attr("sort")),h=parseInt(e.attr("sort")),i=c.find(".trans-page-info").attr("inc"),j=c.find(".trans-page-info").attr("dec"),k=g<h?i:j;f.addClass(k)}else f.addClass("no-animation");d.attr("style",a.attr("style")),e.attr("style",a.attr("style")),d.html(a.html()),d.css_animation_event_listener(f)},O=function(){e=r.settings.child_list.find("li"),f=e.length;var b=r.settings.child_list;k=[],b.find("li").each(function(){var b=a(this);k.push(na(b.attr("pageID"),b.index()+1,b.attr("parentID"),b.attr("className"),b.attr("title"),ca(b.attr("link")),b.attr("nest"),b.attr("segment")))}),P()},P=function(){for(var a=0;a<k.length;a++){var b=k[a];if(0!=b.parentID)for(var c=0;c<k.length;c++){var d=k[c];b.parentID==d.id&&(b.container=d.urlSegment+"-"+d.id)}}},Q=function(){setTimeout(function(){a("."+r.settings.ajax_container);a(".animation-layer").css({width:"100%",height:"auto",top:0,left:0})},100)},R=function(b){S(b);var c=a("#menu-"+b.name+"-"+b.id);c.length>0&&(a("#nav").find("li").removeClass("current"),a("#nav").find("li").removeClass("section"),void 0!=c.attr("parent")&&a("#"+c.attr("parent")).addClass("section"),c.addClass("current")),Z(b)},S=function(a){T(a),W(a),V(a)},T=function(b){g=a("#"+r.settings.nav_next_frame),h=a("#"+r.settings.nav_prev_frame),g.add_click_navigation(),h.add_click_navigation(),aa(),h.attr("href",U(b,-1)),g.attr("href",U(b,1))},U=function(a,b){var c=_(a),d=-1;return 1==b?c<k.length-1&&(d=k[c+b].link):c>0&&(d=k[c+b].link),d},V=function(b){var c=C(b),d=a("#"+c.name+"-"+c.id);if(d.length>0){var e=new Hammer(d[0]);e.on("swipeleft",function(a){A(g)}),e.on("swiperight",function(a){A(h)})}},W=function(b){var c=Y(b),d=c.find("ul"),e=$(b);d.append(a.map(e,function(b,c){return a("<li>").addClass("circle ajax-link ball-nav-icon").attr({href:b.link,id:"ball-nav-icon-"+b.id})})),X(b)},X=function(a){var b=Y(a).find("ul");b.css("margin-left","-"+b.width()/2+"px")},Y=function(b){return a("#nav-ball-block-"+b.id)},Z=function(b){var c=C(b),d=Y(c);d.find(".ball-nav-icon").removeClass("current"),a("#ball-nav-icon-"+b.id).addClass("current")},$=function(a){for(var b=[],c=0;c<k.length;c++){var d=k[c].parentID;a.id==d&&b.push(k[c])}return b},_=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].id;d==a.id&&(b=c)}return b},aa=function(){h.css("display","block"),g.css("display","block")},ba=function(a){return a=ca(a),a.substr(a.lastIndexOf("/")+1)},ca=function(a){return"/"==a.substr(-1)&&(a=a.substr(0,a.length-1)),a},da=function(){console.log(d+" - animation finished"),w=!1,E(),Q(),clearInterval(p)},ea=function(){console.log(d+" - start animation");a(".birds-nest").find(".animation-layer");p=setInterval(function(){},100)},fa=function(){console.log(d+" - loading page"),s=!0},ga=function(a,b,c,e,f,g){console.log(d+" - page loaded"),a.html(c),R(g),ka(),ja(r.settings.initialise_javascript_dependencies),N(b,e,a),window.history.pushState("string","Title",g.url_object.http_url),s=!1},ha=function(a){a=a.replace("#","/");var b=ba(a),c=L(b);return c.id},ia=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].parentID;d==a.id&&1==k[c].sort&&(b=k[c])}return b},ja=function(a){a&&a()},ka=function(){a("*").each(function(){var b=a(this);b.hasClass("ajax-link")&&(b.hasClass("ajax-active")||(b.addClass("ajax-active"),b.add_click_function()))})},la=function(a){j=a,t=!0,u=!0},ma=function(a,b){return ha(a)==ha(b)};a.fn.add_click_function=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault(),A(a(this))})})},a.fn.add_click_navigation=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault(),A(a(this))})})},a.fn.css_animation_event_listener=function(b){return this.each(function(){a(this).bind("oanimationend animationend webkitAnimationEnd",function(){b.removeClass("running"),a(this).remove(),ja(r.settings.end_animation_callback),da()})})};var na=function(a,b,c,d,e,f,g,h){var i={};return i.id=a,i.sort=b,i.parentID=c,i.className=d,i.name=ba(f),i.title=e,i.link=f,i.nest=g,i.urlSegment=h,i.url_object=oa(f),i},oa=function(a){var b={};return b.tempURL=ca(a),b.name=ba(b.tempURL),b.components=J(b.tempURL),b.levelsAboveRoot=K(b),b.base_url=I(b),b.path_url=H(b,!1),b.hash_url=H(b,!0),b.http_url=G(b),b},pa=function(a,b,c){var d={};return d.animate=c,d.page=a,d.containerID=b,d};r.init()},String.prototype.replaceAt=function(a,b){return this.substr(0,a)+b+this.substr(a+b.length)},a.fn.ajax_plugin=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.ajax_plugin(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="app_name",e=678401;a.app_name=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h)},g.foo_public_method=function(){};a.fn.bind_event=function(a){},g.init()},a.fn.app_name=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.app_name(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="image_pre_loader",e=312584;a.image_pre_loader=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h),a(window).on("load",function(){console.log("loaded"),g.swap_images()})},g.swap_images=function(){var b=i.find("img");b.each(function(){a(this).attr("src",a(this).attr("pre"))})};a.fn.bind_event=function(a){},g.init()},a.fn.image_pre_loader=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.image_pre_loader(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="navigation",e=674154;a.navigation=function(b,c){var f={required:!0,animation_speed:1e3},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts"),k=(i.find("a"),i.find("li"),i.find(".parent")),l=(i.find(".child"),i.find(".glyphicon-menu-hamburger"));g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h),m(),n()},g.margin_adjust=function(){m()};var m=function(){console.log("Margin adjustment");var b=10,c=i.width()+20;a(window).width()<1160&&a(window).width()>599?i.hasClass("open")?(a(".main").css("margin-left",c+"px"),a(".main").css("margin-right",b+"px")):i.hasClass("closed")&&(a(".main").css("margin-left","60px"),a(".main").css("margin-right",b+"px")):a(window).width()<600?(a(".main").css("margin-left","60px"),a(".main").css("margin-right",b+"px")):(a(".main").css("margin-left",c+"px"),a(".main").css("margin-right",c+"px"))},n=function(){if(i.on("load",function(){console.log("loaded")}),i.hasClass("closed")){var a=i.width()-40;i.css("left","-"+a+"px")}};a.fn.bind_events=function(a){},a(window).on("resize",function(){m()}),k.find("a").on("click",function(){a(this).parent();n()}),l.on("click",function(){if(i.hasClass("open")){console.log(i.width());var b=i.width()-40;a(window).width()<1160&&i.hasClass("open")&&a(".main").animate({"margin-left":"60px"},g.settings.animation_speed,function(){a(".content-slider").data("content_slider").update()}),i.animate({left:"-"+b+"px"},g.settings.animation_speed,function(){i.removeClass("open"),i.addClass("closed")})}else i.hasClass("closed")&&i.animate({left:"0"},g.settings.animation_speed,function(){i.removeClass("closed"),i.addClass("open")})}),g.init()},a.fn.navigation=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.navigation(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";function d(b,c){console.log(h+" activated"),this.$el=a(b),this.$el.data(h,this),this.defaults={required:!0};var d=this.$el.data(h+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}var e,f,g,h="plugin name";d.prototype.init=function(){e=this,f=e.$el,g=e.defaults},a.fn.plugin_name=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window),$(document).ready(function(){setup_home_page_menu_tabs(),scroll_event_listener()}),$(window).on("resize",function(){vertical_align_text_in_image($(".js-abs-center")),update_home_page_menu_tabs()});var vertical_align_text_in_image=function(a){a.each(function(){var a=!1,b=$(this),c=$(this).parent(),d=c.find("img");d.each(function(){var c=$(this).height();0!=c?b.css("line-height",$(this).height()+"px"):a=!0}),a&&d.on("load",function(){var a=$(this).height();0!=a&&b.css("line-height",$(this).height()+"px")})})},setup_home_page_menu_tabs=function(){var a=$(".home-page-menu li");a.each(function(){var a=$(this),b=a.height();a.find("a").css("line-height",b+"px");var c=$(this).find("img");c.on("load",function(){var b=Box(c.width(),c.height()),d=Box(a.width(),a.height());check_sizes(b,c,d)})})},check_sizes=function(a,b,c){a.width<c.width?b.css({width:"120%",height:"auto"}):a.height<c.height&&b.css({width:"auto",height:"120%"})},update_home_page_menu_tabs=function(){var a=$(".home-page-menu li");a.each(function(){var a=$(this),b=a.height();a.find("a").css("line-height",b+"px");var c=$(this).find("img"),d=Box(c.width(),c.height()),e=Box(a.width(),a.height());check_sizes(d,c,e)})},Box=function(a,b){return{width:a,height:b}},update_footer=function(){var a=$(".js-footer"),b=a.outerHeight(),c=$(document).height()-$(window).height();$(window).scrollTop()==c&&a.animate({bottom:"0px"},500,function(){a.addClass("active")}),a.hasClass("active")&&$(window).scrollTop()!=c&&(a.removeClass("active"),a.animate({bottom:"-"+b+"px"},500,function(){}))},scroll_event_listener=function(){$(window).scroll(function(){update_footer()})};